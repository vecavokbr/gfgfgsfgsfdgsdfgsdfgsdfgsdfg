default_peace = {
	enable = {
		always = yes
	}

	annex_randomness = 0 #350
	liberate_randomness = 0 #100
	puppet_randomness = 0 #200
	take_states_randomness = 0 #150
	force_government_randomness = 0 #50

	# ROOT = Taker, FROM = Giver
	annex = {
		factor = 500
	}

	# ROOT = Taker, FROM = Liberated
	liberate = {
		factor = 0 #100
	}

	# ROOT = Taker, FROM = Giver
	puppet = {
		factor = 0 #200

	}

	# ROOT = Taker, FROM = State
	take_states = {
		factor = 50

		# prioritize cores, claims, and ambition areas
		modifier = {
			factor = 20
			FROM = { is_core_of = ROOT }
		}
		modifier = {
			factor = 10
			FROM = {
				NOT = { is_core_of = ROOT }
				is_claimed_by = ROOT
			}
		}
		modifier = {
			factor = 2
			FROM = { is_not_claim_or_core_of_ROOT = yes }
			ambition_area = yes
		}

		# prioritize important states
		modifier = {
			factor = 10
			FROM = { is_important_state = yes }
		}

		# prioritize neighboring states
		modifier = {
			factor = 10.0
			FROM = {
				num_owned_neighbour_states = { count > 0 owner = ROOT }
			}
		}
		modifier = {
			factor = 8.0
			FROM = {
				NOT = { num_owned_neighbour_states = { count > 0 owner = ROOT } }
				num_claimed_peace_conference_neighbour_states = { count > 0 owner = ROOT }
			}
		}
		modifier = {
			factor = 2.0
			FROM = {
				# has two neighboring states
				OR = {
					num_owned_neighbour_states = { count > 1 owner = ROOT }
					num_claimed_peace_conference_neighbour_states = { count > 1 owner = ROOT }
					AND = {
						num_owned_neighbour_states = { count > 0 owner = ROOT }
						num_claimed_peace_conference_neighbour_states = { count > 0 owner = ROOT }
					}
				}
				# but not more
				NOT = {
					num_owned_neighbour_states = { count > 2 owner = ROOT }
					num_claimed_peace_conference_neighbour_states = { count > 2 owner = ROOT }
					AND = {
						num_owned_neighbour_states = { count > 1 owner = ROOT }
						num_claimed_peace_conference_neighbour_states = { count > 0 owner = ROOT }
					}
					AND = {
						num_owned_neighbour_states = { count > 0 owner = ROOT }
						num_claimed_peace_conference_neighbour_states = { count > 1 owner = ROOT }
					}
				}
			}
		}
		modifier = {
			factor = 3.0
			FROM = {
				# has three neighboring states
				OR = {
					num_owned_neighbour_states = { count > 2 owner = ROOT }
					num_claimed_peace_conference_neighbour_states = { count > 2 owner = ROOT }
					AND = {
						num_owned_neighbour_states = { count > 1 owner = ROOT }
						num_claimed_peace_conference_neighbour_states = { count > 0 owner = ROOT }
					}
					AND = {
						num_owned_neighbour_states = { count > 0 owner = ROOT }
						num_claimed_peace_conference_neighbour_states = { count > 1 owner = ROOT }
					}
				}
				# but not more
				NOT = {
					num_owned_neighbour_states = { count > 3 owner = ROOT }
					num_claimed_peace_conference_neighbour_states = { count > 3 owner = ROOT }
					AND = {
						num_owned_neighbour_states = { count > 1 owner = ROOT }
						num_claimed_peace_conference_neighbour_states = { count > 1 owner = ROOT }
					}
					AND = {
						num_owned_neighbour_states = { count > 2 owner = ROOT }
						num_claimed_peace_conference_neighbour_states = { count > 0 owner = ROOT }
					}
					AND = {
						num_owned_neighbour_states = { count > 0 owner = ROOT }
						num_claimed_peace_conference_neighbour_states = { count > 2 owner = ROOT }
					}
				}
			}
		}
		modifier = {
			factor = 4.0
			FROM = {
				# has four neighboring states
				OR = {
					num_owned_neighbour_states = { count > 3 owner = ROOT }
					num_claimed_peace_conference_neighbour_states = { count > 3 owner = ROOT }
					AND = {
						num_owned_neighbour_states = { count > 1 owner = ROOT }
						num_claimed_peace_conference_neighbour_states = { count > 1 owner = ROOT }
					}
					AND = {
						num_owned_neighbour_states = { count > 2 owner = ROOT }
						num_claimed_peace_conference_neighbour_states = { count > 0 owner = ROOT }
					}
					AND = {
						num_owned_neighbour_states = { count > 0 owner = ROOT }
						num_claimed_peace_conference_neighbour_states = { count > 2 owner = ROOT }
					}
				}
				# but not more
				NOT = {
					num_owned_neighbour_states = { count > 4 owner = ROOT }
					num_claimed_peace_conference_neighbour_states = { count > 4 owner = ROOT }
					AND = {
						num_owned_neighbour_states = { count > 2 owner = ROOT }
						num_claimed_peace_conference_neighbour_states = { count > 1 owner = ROOT }
					}
					AND = {
						num_owned_neighbour_states = { count > 1 owner = ROOT }
						num_claimed_peace_conference_neighbour_states = { count > 2 owner = ROOT }
					}
					AND = {
						num_owned_neighbour_states = { count > 0 owner = ROOT }
						num_claimed_peace_conference_neighbour_states = { count > 3 owner = ROOT }
					}
					AND = {
						num_owned_neighbour_states = { count > 3 owner = ROOT }
						num_claimed_peace_conference_neighbour_states = { count > 0 owner = ROOT }
					}
				}
			}
		}
		modifier = {
			factor = 5.0
			FROM = {
				# has five or more neighboring states
				OR = {
					num_owned_neighbour_states = { count > 4 owner = ROOT }
					num_claimed_peace_conference_neighbour_states = { count > 4 owner = ROOT }
					AND = {
						num_owned_neighbour_states = { count > 2 owner = ROOT }
						num_claimed_peace_conference_neighbour_states = { count > 1 owner = ROOT }
					}
					AND = {
						num_owned_neighbour_states = { count > 1 owner = ROOT }
						num_claimed_peace_conference_neighbour_states = { count > 2 owner = ROOT }
					}
					AND = {
						num_owned_neighbour_states = { count > 0 owner = ROOT }
						num_claimed_peace_conference_neighbour_states = { count > 3 owner = ROOT }
					}
					AND = {
						num_owned_neighbour_states = { count > 3 owner = ROOT }
						num_claimed_peace_conference_neighbour_states = { count > 0 owner = ROOT }
					}
				}
			}
		}

		# give slight preference to states next to ones we've already claimed
		modifier = {
			factor = 1.1
			FROM = {
				num_claimed_peace_conference_neighbour_states = { count > 0 owner = ROOT }
			}
		}

		# prioritize states closer to capital
		modifier = {
			factor = 5.0
			capital_scope = {
				distance_to = { target = FROM value < 25 }
			}
		}
		modifier = {
			factor = 4.0
			capital_scope = {
				NOT = { distance_to = { target = FROM value < 25 } }
				distance_to = { target = FROM value < 50 }
			}
		}
		modifier = {
			factor = 3.0
			capital_scope = {
				NOT = { distance_to = { target = FROM value < 50 } }
				distance_to = { target = FROM value < 75 }
			}
		}
		modifier = {
			factor = 2.0
			capital_scope = {
				NOT = { distance_to = { target = FROM value < 75 } }
				distance_to = { target = FROM value < 100 }
			}
		}
		modifier = {
			factor = 1.5
			capital_scope = {
				NOT = { distance_to = { target = FROM value < 100 } }
				distance_to = { target = FROM value < 150 }
			}
		}
		modifier = {
			factor = 1.25
			capital_scope = {
				NOT = { distance_to = { target = FROM value < 150 } }
				distance_to = { target = FROM value < 200 }
			}
		}
		modifier = {
			factor = 0.75
			capital_scope = {
				NOT = { distance_to = { target = FROM value > 400 } }
				distance_to = { target = FROM value > 300 }
			}
		}
		modifier = {
			factor = 0.5
			capital_scope = {
				distance_to = { target = FROM value > 400 }
			}
		}

		# prioritize more important states
		modifier = {
			factor = 0.9
			FROM = { state_and_terrain_strategic_value < 11 }
		}
		modifier = {
			factor = 1.1
			FROM = { state_and_terrain_strategic_value > 10 }
		}
		modifier = {
			factor = 1.1
			FROM = { state_and_terrain_strategic_value > 20 }
		}
		modifier = {
			factor = 1.1
			FROM = { state_and_terrain_strategic_value > 30 }
		}
		modifier = {
			factor = 1.1
			FROM = { state_and_terrain_strategic_value > 40 }
		}
		modifier = {
			factor = 1.1
			FROM = { state_and_terrain_strategic_value > 50 }
		}
		modifier = {
			factor = 1.1
			FROM = { state_and_terrain_strategic_value > 60 }
		}
		modifier = {
			factor = 1.1
			FROM = { state_and_terrain_strategic_value > 70 }
		}
		modifier = {
			factor = 1.1
			FROM = { state_and_terrain_strategic_value > 80 }
		}
		modifier = {
			factor = 1.1
			FROM = { state_and_terrain_strategic_value > 90 }
		}
		modifier = {
			factor = 1.1
			FROM = { state_and_terrain_strategic_value > 100 }
		}
		modifier = {
			factor = 1.1
			FROM = { state_and_terrain_strategic_value > 110 }
		}
		modifier = {
			factor = 1.1
			FROM = { state_and_terrain_strategic_value > 120 }
		}
		modifier = {
			factor = 1.1
			FROM = { state_and_terrain_strategic_value > 130 }
		}
		modifier = {
			factor = 1.1
			FROM = { state_and_terrain_strategic_value > 140 }
		}
		modifier = {
			factor = 1.1
			FROM = { state_and_terrain_strategic_value > 150 }
		}

		# prioritize controlled states
		modifier = {
			factor = 1.5
			FROM = { is_controlled_by = ROOT }
		}

		# de-prioritize states on a different continent unless it's important or we already own land there
		modifier = {
			factor = 0.5
			FROM = {
				NOT = { state_same_continent_as_ROOT = yes }
				NOT = {
					is_important_state = yes
					num_owned_neighbour_states = { count > 0 owner = ROOT }
				}
			}
		}

		# de-prioritize states on the same continent if they're disconnected
		modifier = {
			factor = 0.5
			FROM = {
				state_same_continent_as_ROOT = yes
				is_coastal = yes
				NOT = {
					is_important_state = yes
					num_owned_neighbour_states = { count > 0 owner = ROOT }
					num_claimed_peace_conference_neighbour_states = { count > 0 owner = ROOT }
				}
			}
		}


		### RESTRICTIONS

		# puppets can only take cores/claims
		modifier = {
			factor = 0
			is_subject = yes
			overlord = { is_in_peace_conference = yes }
			FROM = { is_not_claim_or_core_of_ROOT = yes }

			# exception: german puppets can take land in their regions
			NOT = {
				AND = {
					OR = {
						tag = AOG
						tag = MAF
						tag = GEA
						tag = FRP
					}
					OR = {
						is_subject_of = GER
						is_subject_of = GEX
					}
				}
			}

			# exception: Transamur can take land as a Japanese puppet
			NOT = {
				AND = {
					tag = TRM
					is_subject_of = JAP
				}
			}
		}

		# majors do not take land if an ally at the conference has cores/claims and they don't
		modifier = {
			factor = 0
			is_actual_major = yes
			FROM = { is_not_claim_or_core_of_ROOT = yes }
			any_other_country = {
				at_conference_no_war_with_ROOT = yes
				OR = {
					is_in_faction_with = ROOT
					is_subject_of = ROOT
				}
				FROM = {
					is_claim_or_core_of_PREV = yes
					# exception: they'll take important states, unless the ally is also a major
					NOT = { is_important_state = yes }
				}
			}
		}

		# majors do not take land if a friend at the conference has cores/claims, unless it's in their ambition area
		modifier = {
			factor = 0
			is_actual_major = yes
			FROM = {
				is_not_claim_or_core_of_ROOT = yes
				NOT = { is_important_state = yes }
			}
			any_other_country = {
				at_conference_no_war_with_ROOT = yes
				ROOT = { has_opinion = { target = PREV value > 50 } }
				NOT = {
					is_in_faction_with = ROOT
					is_subject_of = ROOT
				}
				FROM = { is_claim_or_core_of_PREV = yes }
			}
			NOT = { ambition_area = yes }
			# exception: Germany has no friends when it comes to Europe
			NOT = {
				AND = {
					tag = GER
					FROM = { is_on_continent = europe }
				}
			}
		}

		# minors cannot take cores/claims of other countries at the peace conference unless it's also a core/claim of their own
		modifier = {
			factor = 0
			NOT = { is_actual_major = yes }
			FROM = { is_not_claim_or_core_of_ROOT = yes }
			any_other_country = {
				at_conference_no_war_with_ROOT = yes
				FROM = { is_claim_or_core_of_PREV = yes }
			}

			# exception: Mongolia
			NOT = { tag = MON }
		}

		# don't take states that are in an ally's ambition area if it's not in yours
		modifier = {
			factor = 0
			FROM = { is_not_claim_or_core_of_ROOT = yes }
			any_other_country = {
				at_conference_no_war_with_ROOT = yes
				is_in_faction_with = ROOT
				FROM = { is_not_claim_or_core_of_PREV = yes }
				ambition_area = yes

				# exception: Canada will still take states in the ACW
				NOT = {
					AND = {
						ROOT = { tag = CAN }
						FROM = { is_core_of = USA }
						OR = {
							tag = NEE
							tag = CAL
						}
						OR = {
							TEX = { at_conference_no_war_with_ROOT = yes }
							CSA = { at_conference_no_war_with_ROOT = yes }
						}
					}
				}
			}
			NOT = { ambition_area = yes }
		}

		# minors don't take the ambition areas of a major in their faction, period, even if it's in theirs
		modifier = {
			factor = 0
			NOT = { is_actual_major = yes }
			FROM = { is_not_claim_or_core_of_ROOT = yes }
			any_other_country = {
				is_actual_major = yes
				at_conference_no_war_with_ROOT = yes
				is_in_faction_with = ROOT
				FROM = { is_not_claim_or_core_of_PREV = yes }
				ambition_area = yes
			}
			ambition_area = yes
		}

		# don't take land outside of your ambition area (or claims/cores) if you're restricted
		modifier = {
			factor = 0
			restrict_territorial_ambitions = yes
			NOT = {
				ambition_area = yes
				FROM = { is_claim_or_core_of_ROOT = yes }
			}
		}

		# land that isn't a core/claim or in your ambition area needs a connection
		modifier = {
			factor = 0
			FROM = {
				NOT = {
					is_claim_or_core_of_ROOT = yes
					num_owned_neighbour_states = { count > 0 owner = ROOT }
					num_claimed_peace_conference_neighbour_states = { count > 0 owner = ROOT }
					AND = {
						OR = {
							is_island_state = yes
							is_coastal = yes
						}
						ROOT = {
							any_owned_state = { is_coastal = yes }
						}
					}
				}
			}
			NOT = { ambition_area = yes }

			# exception: we're unrestricted and there's nobody else who can take it
			NOT = {
				AND = {
					NOT = { restrict_territorial_ambitions = yes }
					NOT = {
						any_other_country = {
							at_conference_no_war_with_ROOT = yes
							OR = {
								ambition_area = yes
								FROM = { is_claim_or_core_of_PREV = yes }
								AND = {
									NOT = { restrict_territorial_ambitions_PREV = yes }
									FROM = {
										OR = {
											num_owned_neighbour_states = { count > 0 owner = PREV }
											num_claimed_peace_conference_neighbour_states = { count > 0 owner = PREV }
											AND = {
												OR = {
													is_island_state = yes
													is_coastal = yes
												}
												PREV = {
													any_owned_state = { is_coastal = yes }
												}
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}

		# land that is a core/claim or in your ambition area still needs a connection if anyone else at the conference has the same claim to it
		modifier = {
			factor = 0
			FROM = {
				NOT = {
					num_owned_neighbour_states = { count > 0 owner = ROOT }
					num_claimed_peace_conference_neighbour_states = { count > 0 owner = ROOT }
					AND = {
						OR = {
							is_island_state = yes
							is_coastal = yes
						}
						ROOT = {
							any_owned_state = { is_coastal = yes }
						}
					}
				}
			}
			OR = {
				ambition_area = yes
				FROM = { is_claim_or_core_of_ROOT = yes }
			}
			any_other_country = {
				at_conference_no_war_with_ROOT = yes
				OR = {
					FROM = { is_claim_or_core_of_PREV = yes }
					AND = {
						ambition_area = yes
						OR = {
							is_actual_major = yes
							ROOT = { NOT = { is_actual_major = yes } }
							NOT = { is_in_faction_with = ROOT }
						}
						OR = {
							is_actual_major = yes
							FROM = { is_not_claim_or_core_of_ROOT = yes }
						}
					}
				}
			}
		}

		# don't take non-neighboring states if another country is at the conference is neighboring and will take it
		modifier = {
			factor = 0
			FROM = {
				NOT = {
					is_important_state = yes
					num_owned_neighbour_states = { count > 0 owner = ROOT }
					num_claimed_peace_conference_neighbour_states = { count > 0 owner = ROOT }
				}
			}
			OR = {
				ambition_area = yes
				FROM = { is_claim_or_core_of_ROOT = yes }
				NOT = { restrict_territorial_ambitions = yes }
			}
			any_other_country = {
				at_conference_no_war_with_ROOT = yes
				OR = {
					NOT = { restrict_territorial_ambitions_PREV = yes }
					FROM = { is_claim_or_core_of_PREV = yes }
					AND = {
						ambition_area = yes
						OR = {
							is_actual_major = yes
							ROOT = { NOT = { is_actual_major = yes } }
							NOT = { is_in_faction_with = ROOT }
						}
						OR = {
							is_actual_major = yes
							FROM = { is_not_claim_or_core_of_ROOT = yes }
						}
					}
				}
				# exceptions: look for states the other country won't take, even if they can
				NOT = {
					AND = {
						is_actual_major = yes
						NOT = { has_war_with = ROOT }
						OR = {
							is_in_faction_with = ROOT
							ROOT = { is_subject_of = PREV }
						}
						FROM = {
							is_not_claim_or_core_of_PREV = yes
							is_claim_or_core_of_ROOT = yes
							NOT = { is_important_state = yes }
						}
					}
					AND = {
						is_actual_major = yes
						FROM = {
							is_claim_or_core_of_ROOT = yes
							is_not_claim_or_core_of_PREV = yes
							NOT = { is_important_state = yes }
						}
						has_opinion = { target = ROOT value > 50 }
						NOT = {
							has_war_with = ROOT
							is_in_faction_with = ROOT
							ROOT = { is_subject_of = PREV }
							ambition_area = yes
							AND = {
								tag = GER
								FROM = { is_on_continent = europe }
							}
						}
					}
					AND = {
						NOT = { is_actual_major = yes }
						FROM = { is_not_claim_or_core_of_PREV = yes }
						NOT = { has_war_with = ROOT }
						FROM = { is_claim_or_core_of_ROOT = yes }
					}
					AND = {
						FROM = {
							is_not_claim_or_core_of_ROOT = yes
							is_not_claim_or_core_of_PREV = yes
						}
						is_in_faction_with = ROOT
						ROOT = { ambition_area = yes }
						NOT = {
							has_war_with = ROOT
							ambition_area = yes
							AND = {
								tag = CAN
								FROM = { is_core_of = USA }
								ROOT = {
									OR = {
										tag = NEE
										tag = CAL
									}
								}
								OR = {
									TEX = { at_conference_no_war_with_PREV = yes }
									CSA = { at_conference_no_war_with_PREV = yes }
								}
							}
						}
					}
					AND = {
						NOT = {
							is_actual_major = yes
							has_war_with = ROOT
						}
						FROM = {
							is_not_claim_or_core_of_ROOT = yes
							is_not_claim_or_core_of_PREV = yes
						}
						is_in_faction_with = ROOT
						ROOT = {
							is_actual_major = yes
							ambition_area = yes
						}
						ambition_area = yes
					}
				}
				FROM = {
					OR = {
						num_owned_neighbour_states = { count > 0 owner = PREV }
						num_claimed_peace_conference_neighbour_states = { count > 0 owner = PREV }
					}
				}
			}
		}

		# don't take non-cores/claims/ambitions on another continent if someone else at the conference should
		modifier = {
			factor = 0
			FROM = {
				NOT = {
					is_claim_or_core_of_ROOT = yes
					state_same_continent_as_ROOT = yes
				}
			}
			NOT = { ambition_area = yes }
			any_other_country = {
				at_conference_no_war_with_ROOT = yes
				same_continent_as_state_FROM = yes
				OR = {
					AND = {
						is_actual_major = yes
						NOT = { restrict_territorial_ambitions_PREV = yes }
					}
					ambition_area = yes
					FROM = { is_claim_or_core_of_PREV = yes }
				}
			}

			# exception: European countries will always take states in Africa
			NOT = {
				AND = {
					is_in_europe = yes
					FROM = { is_on_continent = africa }
				}
			}

			# exception: European countries will always take states in Asia and the middle east
			# so long as there is no major there in their faction
			NOT = {
				AND = {
					is_in_europe = yes
					FROM = { is_on_continent = asia }
					NOT = {
						any_allied_country = {
							is_actual_major = yes
							is_in_peace_conference = yes
							is_in_asia = yes
						}
					}
				}
			}
			NOT = {
				AND = {
					is_in_europe = yes
					FROM = { is_on_continent = middle_east }
					NOT = {
						any_allied_country = {
							is_actual_major = yes
							is_in_peace_conference = yes
							is_in_middle_east = yes
						}
					}
				}
			}

			# exception: Middle Eastern countries will take states in northern India and North Africa
			NOT = {
				AND = {
					is_in_middle_east = yes
					FROM = {
						OR = {
							state = 441 #Kashmir
							state = 444 #Baluchistan
							state = 443 #Sindh
							state = 445 #Quetta
							state = 442 #Peshawar
							state = 891 #Lahore
							region = 126 #North Africa
							region = 189 #Maghreb
							region = 128 #Sudan
							region = 17 #Horn of Africa
							state = 183 #Cyprus
						}
					}
				}
			}

			# exception: countries in North Africa will take states in the Middle East
			NOT = {
				AND = {
					NOT = { tag = NFA }
					capital_scope = {
						OR = {
							region = 126 #North Africa
							region = 189 #Maghreb
						}
					}
					FROM = {
						OR = {
							is_on_continent = middle_east
							state = 116 #Malta
							state = 182 #Crete
							state = 183 #Cyprus
						}
					}
				}
			}

			# exception: countries in India will take states in the middle east
			NOT = {
				AND = {
					capital_scope = {
						OR = {
							region = 153 #Northern India
							region = 141 #Eastern India
							region = 31 #Southern India
						}
					}
					FROM = { is_on_continent = middle_east }
				}
			}

			# exception: Turkey/Ottomans will take states in the Balkans
			NOT = {
				AND = {
					OR = {
						tag = OTT
						tag = TUR
					}
					FROM = {
						OR = {
							region = 69 #Eastern Mediterranean
							region = 24 #Western Balkans
							region = 25 #Greece
							region = 26 #Eastern Balkans
						}
					}
				}
			}

			# exception: Canada will always take the UK
			NOT = {
				AND = {
					tag = CAN
					FROM = { is_core_of = ENG }
				}
			}

			# exception: National France will always take cores in Europe
			NOT = {
				AND = {
					tag = NFA
					FROM = { is_on_continent = europe }
				}
			}
		}

		# don't take cheap island states if you don't own anything nearby and there's someone else better suited
		modifier = {
			factor = 0
			FROM = {
				is_not_claim_or_core_of_ROOT = yes
				OR = {
					is_island_state = yes
					# the following are not considered island_states, for some reason
					state = 694 #French Carribean
					state = 182 #Crete
					state = 183 #Cyprus
					state = 634 #Solomon Islands
					state = 635 #Neuelsass
				}
				NOT = {
					is_controlled_by = ROOT
					controller = { is_in_faction_with = ROOT }
					ROOT = {
						any_owned_state = {
							is_coastal = yes
							distance_to = { target = FROM value < 100 }
						}
					}
				}
			}
			NOT = {
				ambition_area = yes
				tag = GER
				tag = CAN
				tag = GBR
				tag = FRA
				tag = JAP
			}
			any_other_country = {
				at_conference_no_war_with_ROOT = yes
				OR = {
					NOT = { restrict_territorial_ambitions_PREV = yes }
					FROM = { is_claim_or_core_of_PREV = yes }
					ambition_area = yes
				}
				OR = {
					tag = GER
					tag = CAN
					tag = GBR
					tag = FRA
					tag = JAP
					controls_state = FROM
					any_allied_country = { controls_state = FROM }
					any_owned_state = {
						is_coastal = yes
						distance_to = { target = FROM value < 100 }
					}
				}
			}
		}


		### SPECIFIC COUNTRIES

		# Germany prioritizes taking France
		modifier = {
			factor = 5
			tag = GER
			is_faction_leader = yes
			FROM = {
				OR = {
					region = 19 #Northern France
					region = 20 #Southern France
				}
			}
		}
		modifier = {
			factor = 0
			NOT = { tag = GER }
			is_in_faction_with = GER
			FROM = {
				is_not_claim_or_core_of_ROOT = yes
				OR = {
					region = 19 #Northern France
					region = 20 #Southern France
				}
			}
		}

		# National France prioritizes taking France
		modifier = {
			factor = 5
			tag = NFA
			FROM = {
				OR = {
					region = 19 #Northern France
					region = 20 #Southern France
					state = 29 #Flandre-Maritime
					state = 943 #Haute-Savoie
				}
			}
		}
		modifier = {
			factor = 0
			NOT = { tag = NFA }
			is_in_faction_with = NFA
			FROM = {
				is_not_claim_or_core_of_ROOT = yes
				OR = {
					region = 19 #Northern France
					region = 20 #Southern France
					state = 29 #Flandre-Maritime
					state = 943 #Haute-Savoie
				}
			}
		}

		# National France and Germany will split up France if they're in the conference together
		modifier = {
			factor = 0
			tag = GER
			FRA = { at_conference_has_war_with_ROOT = yes }
			NFA = { at_conference_no_war_with_ROOT = yes }
			FROM = {
				is_core_of = FRA
				is_not_claim_or_core_of_ROOT = yes
				region = 20 #Southern France
				NOT = { is_controlled_by_ROOT_or_ally = yes }
			}
		}
		modifier = {
			factor = 0
			tag = NFA
			FRA = { at_conference_has_war_with_ROOT = yes }
			GER = { at_conference_no_war_with_ROOT = yes }
			FROM = {
				is_core_of = FRA
				is_not_claim_or_core_of_ROOT = yes
				region = 19 #Northern France
				NOT = { is_controlled_by_ROOT_or_ally = yes }
			}
		}

		# Other faction leaders will stay out of France if they're not at war with Germany or National France and they control no territory in it
		modifier = {
			factor = 0
			NOT = { restrict_territorial_ambitions = yes }
			FRA = { at_conference_has_war_with_ROOT = yes }
			OR = {
				AND = {
					GER = { at_conference_no_war_with_ROOT = yes }
					NOT = { is_in_faction_with = GER }
				}
				AND = {
					NFA = { at_conference_no_war_with_ROOT = yes }
					NOT = { is_in_faction_with = GER }
				}
				FRA = {
					any_owned_state = {
						is_controlled_by_ROOT_or_ally = yes
					}
				}
			}
			FROM = {
				is_not_claim_or_core_of_ROOT = yes
				OR = {
					region = 19 #Northern France
					region = 20 #Southern France
				}
			}
			NOT = { ambition_area = yes }
		}

		# Canada prioritizes taking the UK
		modifier = {
			factor = 5
			tag = CAN
			is_faction_leader = yes
			FROM = {
				OR = {
					region = 1 #Southern England
					region = 2 #Northern England
					region = 3 #Scotland
				}
			}
		}
		modifier = {
			factor = 0
			NOT = { tag = CAN }
			is_in_faction_with = CAN
			FROM = {
				is_not_claim_or_core_of_ROOT = yes
				OR = {
					region = 1 #Southern England
					region = 2 #Northern England
					region = 3 #Scotland
				}
			}
		}

		# when Canada's at the conference, other faction leaders other than Germany or Russia will stay out of the UK unless they control territory in it
		modifier = {
			factor = 0
			NOT = {
				tag = GER
				tag = RUS
				is_in_faction_with = CAN
				restrict_territorial_ambitions = yes
				ENG = {
					any_owned_state = {
						is_core_of = ENG
						OR = {
							is_controlled_by = ROOT
							controller = { is_in_faction_with = ROOT }
						}
					}
				}
			}
			CAN = { at_conference_no_war_with_ROOT = yes }
			FROM = {
				is_core_of = ENG
				is_not_claim_or_core_of_ROOT = yes
				OR = {
					region = 1 #Southern England
					region = 2 #Northern England
					region = 3 #Scotland
				}
			}
			NOT = { ambition_area = yes }
		}

		### Dividing up a Union of Britain that is controlled by different factions

		# Scotland goes to whoever controls Lothian
		modifier = {
			factor = 0
			NOT = { restrict_territorial_ambitions = yes }
			ENG = {
				at_conference_has_war_with_ROOT = yes
				any_owned_state = {
					is_core_of = ENG
					OR = {
						is_controlled_by = ROOT
						controller = { is_in_faction_with = ROOT }
					}
				}
			}
			any_other_country = {
				NOT = { tag = ROOT }
				at_conference_no_war_with_ROOT = yes
				NOT = { restrict_territorial_ambitions = yes }
				OR = {
					controls_state = 121 #Lothian
					any_allied_country = { controls_state = 121 }
				}
				OR = {
					tag = CAN
					tag = GER
					NOT = { has_opinion = { target = CAN value > 50 } }
					CAN = { NOT = { at_conference_no_war_with_ROOT = yes } }
				}
			}
			FROM = {
				region = 3 #Scotland
			}
		}
		# Wales goes to whoever controls it
		modifier = {
			factor = 0
			NOT = { restrict_territorial_ambitions = yes }
			ENG = {
				at_conference_has_war_with_ROOT = yes
				any_owned_state = {
					is_core_of = ENG
					OR = {
						is_controlled_by = ROOT
						controller = { is_in_faction_with = ROOT }
					}
				}
			}
			any_other_country = {
				NOT = { tag = ROOT }
				at_conference_no_war_with_ROOT = yes
				NOT = { restrict_territorial_ambitions = yes }
				OR = {
					controls_state = 122 #Wales
					any_allied_country = { controls_state = 122 }
				}
				OR = {
					tag = CAN
					tag = GER
					NOT = { has_opinion = { target = CAN value > 50 } }
					CAN = { NOT = { at_conference_no_war_with_ROOT = yes } }
				}
			}
			FROM = {
				state = 122
			}
		}
		# Northern England goes to whoever controls Liverpool
		modifier = {
			factor = 0
			NOT = { restrict_territorial_ambitions = yes }
			ENG = {
				at_conference_has_war_with_ROOT = yes
				any_owned_state = {
					is_core_of = ENG
					OR = {
						is_controlled_by = ROOT
						controller = { is_in_faction_with = ROOT }
					}
				}
			}
			any_other_country = {
				NOT = { tag = ROOT }
				at_conference_no_war_with_ROOT = yes
				NOT = { restrict_territorial_ambitions = yes }
				OR = {
					controls_state = 132 #Lancashire
					any_allied_country = { controls_state = 132 }
				}
				OR = {
					tag = CAN
					tag = GER
					NOT = { has_opinion = { target = CAN value > 50 } }
					CAN = { NOT = { at_conference_no_war_with_ROOT = yes } }
				}
			}
			FROM = {
				OR = {
					state = 132 #Lancashire
					state = 130 #Yorkshire
					state = 131 #Northern England
				}
			}
		}
		# Midlands goes to whoever controls Birmingham
		modifier = {
			factor = 0
			NOT = { restrict_territorial_ambitions = yes }
			ENG = {
				at_conference_has_war_with_ROOT = yes
				any_owned_state = {
					is_core_of = ENG
					OR = {
						is_controlled_by = ROOT
						controller = { is_in_faction_with = ROOT }
					}
				}
			}
			any_other_country = {
				NOT = { tag = ROOT }
				at_conference_no_war_with_ROOT = yes
				NOT = { restrict_territorial_ambitions = yes }
				OR = {
					controls_state = 128 #West Midlands
					any_allied_country = { controls_state = 128 }
				}
				OR = {
					tag = CAN
					tag = GER
					NOT = { has_opinion = { target = CAN value > 50 } }
					CAN = { NOT = { at_conference_no_war_with_ROOT = yes } }
				}
			}
			FROM = {
				OR = {
					state = 128 #West Midlands
					state = 129 #East Midlands
				}
			}
		}
		# Southern England goes to whoever controls London
		modifier = {
			factor = 0
			NOT = { restrict_territorial_ambitions = yes }
			ENG = {
				at_conference_has_war_with_ROOT = yes
				any_owned_state = {
					is_core_of = ENG
					OR = {
						is_controlled_by = ROOT
						controller = { is_in_faction_with = ROOT }
					}
				}
			}
			any_other_country = {
				NOT = { tag = ROOT }
				at_conference_no_war_with_ROOT = yes
				NOT = { restrict_territorial_ambitions = yes }
				OR = {
					controls_state = 126 #London
					any_allied_country = { controls_state = 126 }
				}
				OR = {
					tag = CAN
					tag = GER
					NOT = { has_opinion = { target = CAN value > 50 } }
					CAN = { NOT = { at_conference_no_war_with_ROOT = yes } }
				}
			}
			FROM = {
				OR = {
					state = 126 #London
					state = 125 #East Anglia
					state = 127 #Sussex
					state = 338 #Gloucestershire
					state = 123 #Cornwall
				}
			}
		}


		# Austria prioritizes taking the Balkans
		modifier = {
			factor = 5
			tag = AUS
			is_faction_leader = yes
			is_actual_major = yes
			FROM = {
				OR = {
					region = 24 #Western Balkans
					region = 25 #Greece
					region = 26 #Eastern Balkans
				}
			}
		}
		# Germany will leave the Balkans to Austria
		modifier = {
			factor = 0
			OR = {
				tag = GER
				tag = GEX
			}
			AUS = {
				at_conference_no_war_with_ROOT = yes
				is_faction_leader = yes
				is_actual_major = yes
			}
			FROM = {
				is_not_claim_or_core_of_ROOT = yes
				OR = {
					region = 24 #Western Balkans
					region = 25 #Greece
					region = 26 #Eastern Balkans
				}
			}
		}

		### The American Civil War

		# CSA prioritizes taking the north in the ACW
		modifier = {
			factor = 5
			tag = CSA
			USA = { is_in_peace_conference = yes }
			TEX = { is_in_peace_conference = yes }
			FROM = {
				OR = {
					region = 186 #North-East
					region = 120 #Mid-West
					region = 185 #NorthWest
				}
			}
		}
		# AUS prioritizes taking everywhere else in the ACW
		modifier = {
			factor = 5
			tag = TEX
			USA = { is_in_peace_conference = yes }
			TEX = { is_in_peace_conference = yes }
			FROM = {
				is_core_of = USA
				NOT = {
					region = 33 #Alaska
					region = 186 #North-East
					region = 120 #Mid-West
					region = 185 #NorthWest
				}
			}
		}
		# PSA doesn't take eastern states if CSA, AUS, or USA is at the peace conference
		modifier = {
			factor = 0
			tag = CAL
			OR = {
				NEE = { at_conference_has_war_with_ROOT = yes }
				CSA = { at_conference_has_war_with_ROOT = yes }
				TEX = { at_conference_has_war_with_ROOT = yes }
				USA = { at_conference_has_war_with_ROOT = yes }
			}
			OR = {
				CSA = { at_conference_no_war_with_ROOT = yes }
				TEX = { at_conference_no_war_with_ROOT = yes }
				USA = { at_conference_no_war_with_ROOT = yes }
			}
			FROM = {
				OR = {
					state = 685 #Panama Canal
					region = 120 #Midwest
					region = 186 #North-East
					region = 186 #South-East
					region = 53 #Carribean Sea
					region = 170 #Florida Coast
					region = 57 #Sargasso Sea
				}
			}
		}
		# Countries involved in the ACW can only take bordering states
		modifier = {
			factor = 0
			OR = {
				tag = USA
				tag = TEX
				tag = CAL
			}
			OR = {
				NEE = { at_conference_has_war_with_ROOT = yes }
				CAL = { at_conference_has_war_with_ROOT = yes }
				CSA = { at_conference_has_war_with_ROOT = yes }
				TEX = { at_conference_has_war_with_ROOT = yes }
				USA = { at_conference_has_war_with_ROOT = yes }
			}
			FROM = {
				is_core_of = USA
				owner_is_neighbor_of_ROOT = yes
				NOT = {
					num_owned_neighbour_states = { count > 0 owner = ROOT }
					num_claimed_peace_conference_neighbour_states = { count > 0 owner = ROOT }
					state = 686 #Puerto Rico
					state = 685 #Panama Canal
					state = 467 #Alaska
					is_island_state = yes
				}
			}
		}
		# Mexico only takes bordering states if other ACW countries are in the peace conference
		modifier = {
			factor = 0
			tag = MEX
			OR = {
				CSA = { at_conference_no_war_with_ROOT = yes }
				TEX = { at_conference_no_war_with_ROOT = yes }
				USA = { at_conference_no_war_with_ROOT = yes }
			}
			FROM = {
				is_core_of = USA
				owner = { is_neighbor_of = ROOT }
				NOT = {
					num_owned_neighbour_states = { count > 0 owner = ROOT }
					num_claimed_peace_conference_neighbour_states = { count > 0 owner = ROOT }
				}
			}
		}
		# Canada only takes bordering USA states, so long as the owner is neighboring
		modifier = {
			factor = 0
			tag = CAN
			FROM = {
				owner_is_neighbor_of_ROOT = yes
				is_core_of = USA
				NOT = {
					num_owned_neighbour_states = { count > 0 owner = ROOT }
					num_claimed_peace_conference_neighbour_states = { count > 0 owner = ROOT }
					state = 686 #Puerto Rico
					state = 685 #Panama Canal
					state = 467 #Alaska
					is_island_state = yes
				}
			}
		}


		# Chinese countries can only take bordering cores with each other
		modifier = {
			factor = 0
			OR = {
				tag = AOG
				tag = CHI
				tag = FNG
				tag = GXC
				tag = LEC
				tag = MAN
				tag = MEN
				tag = MON
				tag = QIE
				tag = SHX
				tag = SIK
				tag = SQI
				tag = TIB
				tag = XSM
				tag = YUN
			}
			any_other_country = {
				NOT = { tag = ROOT }
				OR = {
					tag = AOG
					tag = CHI
					tag = FNG
					tag = GXC
					tag = LEC
					tag = MAN
					tag = MEN
					tag = MON
					tag = QIE
					tag = SHX
					tag = SIK
					tag = SQI
					tag = TIB
					tag = XSM
					tag = YUN
				}
				at_conference_no_war_with_ROOT = yes
				FROM = { is_core_of = PREV }
			}
			FROM = {
				is_core_of = ROOT
				NOT = {
					state = 524 #Taiwan
					state = 859 #Gaoxing
					num_owned_neighbour_states = { count > 0 owner = ROOT }
					num_claimed_peace_conference_neighbour_states = { count > 0 owner = ROOT }
				}
			}
		}

		# Indian countries can only take bordering cores with each other
		modifier = {
			factor = 0
			OR = {
				tag = BHC
				tag = DEH
				tag = PRF
				tag = MAD
				tag = MYS
				tag = NEP
				tag = TRV
			}
			any_other_country = {
				NOT = { tag = ROOT }
				OR = {
					tag = BHC
					tag = DEH
					tag = PRF
					tag = MAD
					tag = MYS
					tag = NEP
					tag = TRV
				}
				at_conference_no_war_with_ROOT = yes
				FROM = { is_core_of = PREV }
			}
			FROM = {
				is_core_of = ROOT
				NOT = {
					state = 422 #Ceylon
					state = 281 #Maldives
					state = 733 #Andaman Islands
					num_owned_neighbour_states = { count > 0 owner = ROOT }
					num_claimed_peace_conference_neighbour_states = { count > 0 owner = ROOT }
				}
			}
		}

		# Transamur can only take bordering states of Russia
		modifier = {
			factor = 0
			tag = TRM
			RUS = { at_conference_has_war_with_ROOT = yes }
			FROM = {
				is_core_of = RUS
				NOT = {
					num_owned_neighbour_states = { count > 0 owner = ROOT }
					num_claimed_peace_conference_neighbour_states = { count > 0 owner = ROOT }
				}
			}
		}

		# African countries can only take bordering cores with each other
		modifier = {
			factor = 0
			is_in_africa = yes
			NOT = { tag = NFA }
			any_other_country = {
				NOT = { tag = ROOT }
				is_in_africa = yes
				at_conference_no_war_with_ROOT = yes
				FROM = { is_core_of = PREV }
			}
			FROM = {
				is_core_of = ROOT
				is_on_continent = africa
				NOT = {
					is_island_state = yes
					state = 543 #Madagascar
					state = 905 #Zanzibar
					state = 705 #Sao Tome
					num_owned_neighbour_states = { count > 0 owner = ROOT }
					num_claimed_peace_conference_neighbour_states = { count > 0 owner = ROOT }
				}
			}
		}

		# Burma and Indochina can only take bordering cores when splitting up Siam
		modifier = {
			factor = 0
			tag = BUR
			SIA = { at_conference_has_war_with_ROOT = yes }
			INC = { at_conference_no_war_with_ROOT = yes }
			FROM = {
				is_core_of = SIA
				NOT = {
					num_owned_neighbour_states = { count > 0 owner = ROOT }
					num_claimed_peace_conference_neighbour_states = { count > 0 owner = ROOT }
				}
			}
		}
		modifier = {
			factor = 0
			tag = INC
			SIA = { at_conference_has_war_with_ROOT = yes }
			BUR = { at_conference_no_war_with_ROOT = yes }
			FROM = {
				is_core_of = SIA
				NOT = {
					num_owned_neighbour_states = { count > 0 owner = ROOT }
					num_claimed_peace_conference_neighbour_states = { count > 0 owner = ROOT }
				}
			}
		}
		modifier = {
			factor = 0
			tag = BHC
			SIA = { at_conference_has_war_with_ROOT = yes }
			BUR = {
				at_conference_no_war_with_ROOT = yes
				is_subject = no
			}
			FROM = {
				is_core_of = SIA
				NOT = {
					num_owned_neighbour_states = { count > 0 owner = ROOT }
					num_claimed_peace_conference_neighbour_states = { count > 0 owner = ROOT }
				}
			}
		}

		# Commune of France, National France, and Portugal will split up Mittelafrika
		modifier = {
			factor = 0
			tag = FRA
			MAF = { at_conference_has_war_with_ROOT = yes }
			NFA = { at_conference_no_war_with_ROOT = yes }
			FROM = {
				region = 182 #Western Africa
			}
		}
		modifier = {
			factor = 0
			OR = {
				tag = FRA
				tag = NFA
			}
			MAF = { at_conference_has_war_with_ROOT = yes }
			POR = { at_conference_no_war_with_ROOT = yes }
			FROM = {
				OR = {
					region = 190 #Middle Africa
					region = 139 #South Africa
				}
			}
		}
		modifier = {
			factor = 0
			tag = NFA
			MAF = { at_conference_has_war_with_ROOT = yes }
			FRA = { at_conference_no_war_with_ROOT = yes }
			FROM = {
				region = 140 #Central Africa
			}
		}
		modifier = {
			factor = 0
			tag = POR
			MAF = { at_conference_has_war_with_ROOT = yes }
			OR = {
				NFA = { at_conference_no_war_with_ROOT = yes }
				FRA = { at_conference_no_war_with_ROOT = yes }
			}
			FROM = {
				OR = {
					region = 182 #Western Africa
					region = 140 #Central Africa
					region = 188 #East Africa
					region = 193 #Madagascar
				}
			}
		}

		# Portugal will only take western Spain if other Spanish countries are at the peace conference
		modifier = {
			factor = 0
			tag = POR
			OR = {
				SPR = { at_conference_has_war_with_ROOT = yes }
				CNT = { at_conference_has_war_with_ROOT = yes }
				CAR = { at_conference_has_war_with_ROOT = yes }
			}
			OR = {
				SPR = { at_conference_no_war_with_ROOT = yes }
				CNT = { at_conference_no_war_with_ROOT = yes }
				CAR = { at_conference_no_war_with_ROOT = yes }
			}
			FROM = {
				region = 41 #Iberia
				NOT = {
					is_claim_or_core_of_ROOT = yes
					state = 171 #Galicia
					state = 793 #Asturias
					state = 940 #Olivienza
					state = 118 #Gibraltar
				}
			}
		}

		# Mongolia and Shanqing will split up Ma Clique
		modifier = {
			factor = 0
			tag = SQI
			XSM = { at_conference_has_war_with_ROOT = yes }
			MON = { at_conference_no_war_with_ROOT = yes }
			FROM = {
				NOT = {
					region = 144 #Western China
				}
			}
		}
		modifier = {
			factor = 0
			tag = MON
			XSM = { at_conference_has_war_with_ROOT = yes }
			SQI = { at_conference_no_war_with_ROOT = yes }
			FROM = {
				region = 144 #Western China
			}
		}

	}

	# ROOT = Taker, FROM = Giver
	force_government = {
		factor = 0 #10 - neutrals should never do this
	}
}

